@import url('principal.css');

/* grid dos toggles */
.prefs-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(180px, 1fr));
  gap: 12px;
  margin-top: 12px;
  max-height: 260px;
  overflow-y: auto;
}
@media (max-width: 900px){ .prefs-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 560px){ .prefs-grid{ grid-template-columns: 1fr; } }

.toggle{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 14px;
  border-radius: 12px;
  background: rgba(255,255,255,.6);
  border: 1px solid var(--ring);
}
.toggle .label{ font-weight: 600; display: inline-flex; align-items: center; gap: 8px; }

/* switch */
.switch{ --h: 28px; --w: 52px; position: relative; width: var(--w); height: var(--h); flex: 0 0 auto; }
.switch-input{ position: absolute; opacity: 0; width: 0; height: 0; }
.switch-label{ position: relative; display: block; width: var(--w); height: var(--h); border-radius: 999px; pointer-events: none; }
.switch-label .track{ position: absolute; inset: 0; border-radius: 999px; background: rgba(31,35,55,.15); border: 1px solid rgba(31,35,55,.15); transition: .2s ease; }
.switch-label .knob{ position: absolute; top: 50%; left: 3px; width: calc(var(--h) - 6px); height: calc(var(--h) - 6px); border-radius: 50%; background: #fff; box-shadow: 0 2px 6px rgba(0,0,0,.15); transform: translateY(-50%); transition: left .2s ease; pointer-events: auto; cursor: pointer; }
.switch-input:checked + .switch-label .track{ background: #a78bfa; border-color: transparent; }
.switch-input:checked + .switch-label .knob{ left: calc(var(--w) - (var(--h) - 6px) - 3px); }
.switch-input:disabled + .switch-label .track{ background: rgba(31,35,55,.08); border-color: rgba(31,35,55,.08); }
.switch-input:disabled + .switch-label .knob{ box-shadow: none; opacity: .9; cursor: not-allowed; }

/* tooltip */
.has-tooltip{ position: relative; }
.has-tooltip[data-tooltip]::after{
  content: attr(data-tooltip);
  position: absolute; bottom: calc(100% + 8px); right: 0; max-width: 260px;
  background: rgba(31,35,55,.95); color: #fff; font-size: 12px; line-height: 1.3;
  padding: 6px 8px; border-radius: 8px; box-shadow: 0 4px 14px rgba(0,0,0,.2);
  opacity: 0; pointer-events: none; transform: translateY(6px); transition: .15s;
  z-index: 10; white-space: nowrap;
}
.has-tooltip:hover::after{ opacity: 1; transform: translateY(0); }

/* personalização: mesma linha */
.personalizacao-grid.one-col{ display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 12px; }
.field.field-row{
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
}
.field-input{
  flex: 1 1 90%;
  max-width: 90%;
  border: 0; outline: 0; border-radius: 10px;
  padding: 10px 12px; background: rgba(255,255,255,.8);
}
.btn-grad{ padding: 10px 14px; flex: 0 0 auto; }
.btn-secondary{
  border: 1px solid var(--ring);
  background: rgba(255,255,255,.7);
  border-radius: 10px;
  padding: 10px 14px;
  font-weight: 600;
  cursor: pointer;
  flex: 0 0 auto;
  white-space: nowrap;
}

/* lista (usada dentro do modal) */
.custom-list{ display: flex; flex-direction: column; gap: 8px; max-height: 50vh; overflow-y: auto; }
.custom-item{
  display: flex; align-items: center; gap: 10px;
  background: rgba(255,255,255,.7); border: 1px solid var(--ring);
  border-radius: 10px; padding: 8px 10px;
}
.custom-dot{ width: 14px; height: 14px; border-radius: 50%; background: linear-gradient(135deg,#c084fc,#f472b6); }
.custom-text{ flex: 1; }
.custom-remove{
  border: 0; background: transparent; cursor: pointer; line-height: 0;
  display: inline-flex; align-items: center; justify-content: center; padding: 4px; border-radius: 8px;
}
.custom-remove:hover{ background: rgba(0,0,0,.06); }

/* card do victor! */
.card{ padding: 15px; }

/* cores especiais */
.switch-input#sw-bovo:checked + .switch-label .track{ background: #b3a0ed; }
.switch-input#sw-melhor-namorado-do-mundo:checked + .switch-label .track{ background: #c4b5fd; }

/* Modal centralizado */
/* Modal SEM backdrop */
.ymodal{
  position: fixed;
  inset: 0;
  display: none;               /* vira flex quando abre */
  align-items: center;         /* centraliza vertical */
  justify-content: center;     /* centraliza horizontal */
  z-index: 10000;
  background: none !important; /* sem overlay */
}
.ymodal.open{ display: flex; }

.ymodal-card{
  position: relative;
  width: min(680px, 92vw);
  max-height: 80vh;
  overflow: auto;
  background: white;
  border: 1px solid var(--ring);
  border-radius: 14px;
  padding: 18px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.ymodal-title{ margin: 0 32px 0 0; font-size: 18px; font-weight: 700; }
.ymodal-body{ min-height: 60px; }

.ymodal-close{
  position: absolute; top: 8px; right: 8px;
  border: 0; background: transparent; cursor: pointer;
  border-radius: 8px; padding: 6px; line-height: 0;
}
.ymodal-close:hover{ background: rgba(0,0,0,.06); }

.switch.has-tooltip::after {
  z-index: 9999 !important;
}

#sw-melhor-namorado-do-mundo {
  overflow: visible;
}

.switch.has-tooltip{ position:relative; }
.switch.has-tooltip:hover{ z-index: 10000; }
.switch.has-tooltip::after{ z-index: 10001; }

/* sobe só o switch do "melhor-namorado-do-mundo" e a tooltip dele */
.prefs-grid .switch.has-tooltip:has(> #sw-melhor-namorado-do-mundo){
  position: relative;
  z-index: 10000;
}
.prefs-grid .switch.has-tooltip:has(> #sw-melhor-namorado-do-mundo)::after{
  z-index: 10001;
}

/* tooltip global (fora do grid) */
.ytip {
  position: fixed;            /* fora do fluxo e imune a overflow dos pais */
  z-index: 100000;
  background: rgba(31,35,55,.95);
  color: #fff;
  font-size: 12px;
  line-height: 1.3;
  padding: 6px 8px;
  border-radius: 8px;
  box-shadow: 0 4px 14px rgba(0,0,0,.2);
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  transform: translateY(6px);
  transition: opacity .12s ease, transform .12s ease;
}
.ytip.show {
  opacity: 1;
  transform: translateY(0);
}
